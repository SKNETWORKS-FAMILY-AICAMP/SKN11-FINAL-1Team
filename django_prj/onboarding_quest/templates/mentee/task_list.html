{% extends 'base.html' %}
{% load static %}

{% block title %}태스크 목록 페이지{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/mentee/task_list.css' %}">
{% endblock %}

{% block content %}
<div class="tasklist-container">
  <!-- 좌측: 퀘스트 목록 -->
  <div class="tasklist-left" id="tasklist-left">
    <div class="tasklist-search-row">
      <input type="text" class="tasklist-search" placeholder="퀘스트 검색...">
      <button class="tasklist-create-btn">생성</button>
    </div>
    <div class="task-card in-progress selected" data-detail="0">
      <div class="task-card-header">
        <span class="task-title">회사 소개 및 조직도 이해하기</span>
        <span class="task-xp"><img src="/static/img/trophy.svg" class="icon-trophy"> 50 XP</span>
      </div>
      <div class="task-desc">회사의 비전, 미션, 조직 구조를 파악하고 팀원들과 인사하기</div>
      <div class="task-meta-row">
        <span class="task-week">1개월차 1주차</span>
        <span class="task-badge green">초급</span>
      </div>
      <div class="subtask-toggle" data-toggle="0">▼</div>
      <div class="subtask-list" id="subtask-list-0">
        <div class="subtask-card" data-detail="0-0">
          <span class="subtask-title">업무 환경 설정 및 도구 익히기</span>
          <span class="subtask-desc">개발 환경, 툴 설치, 사내 시스템 접근 안내</span>
          <div class="subtask-meta-row">
            <span class="subtask-week">1개월차 2주차</span>
            <span class="subtask-badge yellow">초급</span>
          </div>
        </div>
        <!-- 여러 개의 하위 태스크 예시 -->
        <div class="subtask-card" data-detail="0-1">
          <span class="subtask-title">코드 컨벤션 숙지</span>
          <span class="subtask-desc">팀 내 코드 스타일, 리뷰 프로세스 안내</span>
          <div class="subtask-meta-row">
            <span class="subtask-week">1개월차 2주차</span>
            <span class="subtask-badge green">초급</span>
          </div>
        </div>
      </div>
    </div>
    <div class="task-card done" data-detail="1">
      <div class="task-card-header">
        <span class="task-title">첫 번째 프로젝트 참여하기</span>
        <span class="task-xp"><img src="/static/img/trophy.svg" class="icon-trophy"> 100 XP</span>
      </div>
      <div class="task-desc">간단한 프로젝트에 참여하여 워크플로우 이해하기</div>
      <div class="task-meta-row">
        <span class="task-week">1개월차 3주차</span>
        <span class="task-badge yellow">중급</span>
      </div>
      <div class="subtask-toggle" data-toggle="1">▼</div>
      <div class="subtask-list" id="subtask-list-1">
        <div class="subtask-card" data-detail="1-0">
          <span class="subtask-title">프로젝트 환경 세팅</span>
          <span class="subtask-desc">프로젝트 저장소 클론, 의존성 설치</span>
          <div class="subtask-meta-row">
            <span class="subtask-week">1개월차 3주차</span>
            <span class="subtask-badge yellow">중급</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- 우측: 상세 정보 -->
  <div class="tasklist-right">
    <div class="task-detail-header">
      <span class="task-detail-title" id="detail-title">첫 번째 프로젝트 참여하기</span>
      <span class="task-detail-xp"><img src="/static/img/trophy.svg" class="icon-trophy"> <span id="detail-xp">100 XP</span></span>
    </div>
    <div class="task-detail-desc" id="detail-desc">간단한 프로젝트에 참여하여 워크플로우 이해하기</div>
    <div class="task-detail-meta-row">
      <span class="task-week" id="detail-week">1개월차 3주차</span>
      <span class="task-badge yellow" id="detail-badge">중급</span>
    </div>
    <div class="task-detail-status" id="detail-status">완료됨</div>
    <div class="task-detail-list" id="detail-list">
      <ul>
        <li>프로젝트 준비</li>
        <li>첫 프로젝트 진행</li>
        <li>프로젝트 결과 공유</li>
      </ul>
    </div>
    <div class="task-detail-chat">
      <div class="chat-message other">
        <span class="chat-user">채팅봇</span>
        <span class="chat-text">게시글은 4주차까지 작성되었습니다. 계속 확인 부탁드립니다.</span>
        <span class="chat-time">2025.06.25. 01:41</span>
      </div>
      <div class="chat-message mine">
        <span class="chat-user">멘토유형</span>
        <span class="chat-text">완료하였으며, 다음과제도 기대하겠습니다.</span>
        <span class="chat-time">2025.06.25. 01:45</span>
      </div>
      <div class="chat-input-row">
        <input type="text" class="chat-input" placeholder="메시지 입력...">
        <button class="chat-send-btn"><span style="font-size:20px;">💬</span></button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/mentee/task_list.js' %}"></script>
{% endblock %}